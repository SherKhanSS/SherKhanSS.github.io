(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,n){e.exports={title:"users_title__yxCUR",list:"users_list__2O88f",user:"users_user__711Cj",mail:"users_mail__11UZd",label__user:"users_label__user__3TdHO",label__email:"users_label__email__1cAqE",label__textarea_wrap:"users_label__textarea_wrap__2dh9y",item:"users_item__2oMyO",item__new:"users_item__new__3tZZ6",button:"users_button__2bjlN"}},15:function(e,t,n){e.exports={questions:"questions-user_questions__1tMdD",questions__wrap:"questions-user_questions__wrap__3hPkm",questions__title:"questions-user_questions__title__1583H",questions__list:"questions-user_questions__list__2Mxpc",questions__item:"questions-user_questions__item__1ZX4r",questions__label:"questions-user_questions__label__DJ1sK",questions__input:"questions-user_questions__input__DurxU",questions__buttons:"questions-user_questions__buttons__1ibn-",questions__btn:"questions-user_questions__btn__LB_9-"}},16:function(e,t,n){e.exports={header__title:"menu_header__title__3kL7j",header__wrap:"menu_header__wrap__Wfpho",header__list:"menu_header__list__3N85o",header__item:"menu_header__item__2gFcA",header:"menu_header__1bbQ8"}},23:function(e,t,n){e.exports={login:"login_login__2r5To",login__wrap:"login_login__wrap__23JEg",login__form_wrap:"login_login__form_wrap__2Uv_i",login__button:"login_login__button__3tP85"}},29:function(e,t,n){e.exports={main__wrap:"main_main__wrap__2SSHe"}},31:function(e,t,n){e.exports={title_questions:"questions_title_questions__1jy0V",questions:"questions_questions__HNHJd"}},43:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(1),a=n(24),c=n.n(a),i=(n(43),n(28)),u=n(6),o=n(2),l=n.n(o),j=n(7),b=n(29),d=n.n(b),h=n(5),_=n(4),p={auth:!1,menuTab:localStorage.menuTab?localStorage.menuTab:"",users:[],questions:[],currentUserId:localStorage.currentUserId?localStorage.currentUserId:"",isSent:!1},O="SET_AUTH",f="SET_MENU_TAB",m="SET_USERS",x="SET_QUESTIONS",v="SET_CURRENT_USER_ID",g="SET_IS_SENT",w=function(e){return{type:O,payload:e}},S=function(e){return{type:f,payload:e}},q=function(e){return{type:g,payload:e}},k=n(8),N=function(){var e=Object(s.useState)(!1),t=Object(k.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(null),c=Object(k.a)(a,2),i=c[0],u=c[1];return{loading:n,request:Object(s.useCallback)(function(){var e=Object(j.a)(l.a.mark((function e(t){var n,s,a,c,i,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"GET",s=o.length>2&&void 0!==o[2]?o[2]:null,a=o.length>3&&void 0!==o[3]?o[3]:{},r(!0),e.prev=4,s&&(s=JSON.stringify(s),a["Content-Type"]="application/json"),e.next=8,fetch(t,{method:n,body:s,headers:a});case 8:return c=e.sent,e.next=11,c.json();case 11:if(i=e.sent,c.ok){e.next=14;break}throw new Error(i.message||"\u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a ");case 14:return r(!1),e.abrupt("return",i);case 18:throw e.prev=18,e.t0=e.catch(4),r(!1),u(e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:i,clearError:Object(s.useCallback)((function(){return u(null)}),[])}},y=n(22),T=n(10),E=n.n(T),C=n.p+"static/media/ok.54d591a5.svg",I=function(){return Object(r.jsx)("div",{className:"loader",children:Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.0",width:"64px",height:"64px",viewBox:"0 0 128 128",xmlSpace:"preserve",children:Object(r.jsxs)("g",{children:[Object(r.jsxs)("linearGradient",{id:"linear-gradient",children:[Object(r.jsx)("stop",{offset:"0%",stopColor:"#fff"}),Object(r.jsx)("stop",{offset:"100%",stopColor:"#28527a"})]}),Object(r.jsx)("path",{d:"M63.85 0A63.85 63.85 0 1 1 0 63.85 63.85 63.85 0 0 1 63.85 0zm.65 19.5a44 44 0 1 1-44 44 44 44 0 0 1 44-44z",fill:"url(#linear-gradient)",fillRule:"evenodd"}),Object(r.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 64 64",to:"360 64 64",dur:"1080ms",repeatCount:"indefinite"})]})})})},B={user:"",email:""},U=function(){var e=Object(s.useState)([]),t=Object(k.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(B),i=Object(k.a)(c,2),u=i[0],o=i[1],b=Object(s.useState)(""),d=Object(k.a)(b,2),h=d[0],p=d[1],O=Object(s.useState)(!1),f=Object(k.a)(O,2),m=f[0],x=f[1],v=Object(s.useState)(null),g=Object(k.a)(v,2),w=g[0],S=g[1],q=N().request;Object(s.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q("/api/users/all","GET",null,{Authorization:"Bearer ".concat(localStorage.token)});case 3:t=e.sent,a(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[m,q]),Object(s.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"===t.key&&u.user&&u.email&&U(),"Enter"!==t.key||u.user||u.email){e.next=16;break}return x(!0),e.prev=3,r=n.find((function(e){return e._id===w})),e.next=7,q("/api/users/edit","POST",r,{Authorization:"Bearer ".concat(localStorage.token)});case 7:x(!1),S(null),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),x(!1),S(null);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return document.addEventListener("keypress",e),function(){document.removeEventListener("keypress",e)}}));var T=function(){var e=Object(j.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,q("/api/mail","POST",{email:t,user:n,id:r},{Authorization:"Bearer ".concat(localStorage.token)});case 4:x(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),x(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),U=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,q("/api/users/add","POST",{newUser:u},{Authorization:"Bearer ".concat(localStorage.token)});case 4:x(!1),o(B),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),x(!1),o(B);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,q("/api/users/edit","POST",t,{Authorization:"Bearer ".concat(localStorage.token)});case 4:x(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),x(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return");case 2:return x(!0),t=h.trim().split("\n"),n=t.map((function(e){return e.split(" ")})).map((function(e){for(var t="",n="",r=0;r<e.length;r++)0===r&&(t=e[r]),0!==r&&r!==e.length-1&&(t+=" ".concat(e[r])),r===e.length-1&&(n=e[r]);return{user:t,email:n}})),e.prev=5,e.next=8,q("/api/users/add-all","POST",n,{Authorization:"Bearer ".concat(localStorage.token)});case 8:p(""),x(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0),x(!1);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("section",{className:E.a.list__wrap,children:[m?Object(r.jsx)(I,{}):null,Object(r.jsx)("h2",{className:E.a.title,children:"\u0441\u043f\u0438\u0441\u043e\u043a \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432"}),Object(r.jsxs)("ul",{className:E.a.list,children:[n.map((function(e,t){return Object(r.jsxs)("li",{className:E.a.item,children:[Object(r.jsx)("input",{className:E.a.user,type:"text",value:e.user,onChange:function(r){S(e._id);var s=Object(y.a)(n),c=s[t],i=Object(_.a)(Object(_.a)({},c),{},{user:String(r.target.value)});s.splice(t,1,i),a(s)},onBlur:function(){A(n[t]),S(null)}}),Object(r.jsx)("input",{className:E.a.mail,type:"email",value:e.email,onChange:function(r){S(e._id);var s=Object(y.a)(n),c=s[t],i=Object(_.a)(Object(_.a)({},c),{},{email:String(r.target.value)});s.splice(t,1,i),a(s)},onBlur:function(){A(n[t]),S(null)}}),Object(r.jsxs)("button",{className:E.a.button,onClick:function(){T(e.email,e.user,e._id)},children:[Object(r.jsx)("span",{children:" \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(r.jsx)("img",{src:C,alt:"question"})]})]},t)})),Object(r.jsxs)("li",{className:E.a.item__new,children:[Object(r.jsxs)("label",{className:E.a.label__user,children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0424.\u0418.\u041e. \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",Object(r.jsx)("input",{className:E.a.new_user,autoFocus:!0,type:"text",value:u.user,onChange:function(e){o(Object(_.a)(Object(_.a)({},u),{},{user:String(e.target.value)}))},onBlur:function(){u.user&&u.email&&U()}})]}),Object(r.jsxs)("label",{className:E.a.label__email,children:["E-mail",Object(r.jsx)("input",{className:E.a.new_user,type:"email",value:u.email,onChange:function(e){o(Object(_.a)(Object(_.a)({},u),{},{email:String(e.target.value).trim()}))},onBlur:function(){u.user&&u.email&&U()}})]})]}),Object(r.jsxs)("li",{className:E.a.item,children:[Object(r.jsxs)("label",{className:E.a.label__textarea_wrap,children:["\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u0441\u043f\u0438\u0441\u043a\u043e\u043c",Object(r.jsx)("textarea",{placeholder:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u0445 \u043f\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u043e, \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u043d\u043e\u0432\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438, \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0439 \u0437\u0430\u043f\u0438\u0441\u044c\u044e \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b. \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0432 \u044d\u0442\u043e\u043c \u043f\u043e\u043b\u0435 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043e\u0431\u043d\u043e\u0432\u0438\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435, \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0438 \u0438\u0445  \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b",rows:"15",value:h,onChange:function(e){p(e.target.value)}})]}),Object(r.jsxs)("button",{className:E.a.button,disabled:!h,onClick:z,children:[Object(r.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440"}),Object(r.jsx)("img",{src:C,alt:"question"})]})]})]})]})},A=n(31),z=n.n(A),D=function(e){for(var t={question:e[0],answers:[]},n=1;n<e.length;n++){var r=void 0;r="+"===e[n][0];var s=e[n].slice(1);t.answers.push({answer:s,isTrue:r})}return t},M=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e})),n=t.questions,a=t.isSent,c=Object(s.useState)(""),i=Object(k.a)(c,2),u=i[0],o=i[1],b=N().request,d=0===n.length?"\u041c\u043e\u0436\u043d\u043e \u043b\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u043c \u043f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435\u043b\u044f \u043d\u0430 \u0434\u0440\u0443\u0433\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441\u0430\u0439\u0442\u0430?\n+\u0414\u0430, \u043a\u0443\u0434\u0430 \u0443\u0433\u043e\u0434\u043d\u043e.\n-\u0414\u0430, \u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0441\u0430\u0439\u0442\u0430.\n-\u041d\u0435\u0442, \u043d\u0435\u043b\u044c\u0437\u044f.\n*\n\u041a\u0430\u043a\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0438\u0437 \u044d\u0442\u043e\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442?\n+onmousescroll\n-onclick\n-onmouseover\n-onmousemove\n-onwheel\n-\u0432\u0441\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442.":n.map((function(e){return e.question})).join("\n"),_=function(){var t=Object(j.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(q(!0)),n=u.split("*").map((function(e){return e.split("\n")})).map((function(e){return e.filter((function(e){return""!==e}))})).map((function(e){return D(e)})),t.prev=2,t.next=5,b("/api/questions/add","POST",{structuredQuestions:n},{Authorization:"Bearer ".concat(localStorage.token)});case 5:o(""),e(q(!1)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e(q(!1));case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}();return Object(r.jsxs)("section",{children:[a?Object(r.jsx)(I,{}):null,Object(r.jsx)("h2",{className:z.a.title_questions,children:"\u0441\u043f\u0438\u0441\u043e\u043a \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432"}),Object(r.jsxs)("section",{className:z.a.questions,children:[Object(r.jsxs)("span",{onClick:_,children:["\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",Object(r.jsx)("img",{src:C,alt:"question"})]}),Object(r.jsx)("textarea",{placeholder:d,rows:"25",value:u,onChange:function(e){o(String(e.target.value))}})]})]})},H=n(36),L=n(9),P=n.n(L),R=function(){var e=Object(h.c)((function(e){return e})),t=e.users,n=e.questions,s=t.filter((function(e){var t=e.tests;if(0===t.length)return!1;for(var r=[],s=0;s<t.length;s++){var a,c,i,u;(null===(a=t[s])||void 0===a||null===(c=a.answers)||void 0===c?void 0:c.map((function(e){return e.isTrue})).join(""))===(null===(i=n[s])||void 0===i||null===(u=i.answers)||void 0===u?void 0:u.map((function(e){return e.isTrue})).join(""))&&r.push(!0)}return r.length===t.length})).sort((function(e,t){return e.endTime-t.endTime})),a=t.filter((function(e){return 0!==e.tests.length})).length,c=t.filter((function(e){return!0===e.isTestingStarted})).length,i=t.length-c,u=Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"\u0412\u043e\u043f\u0440\u043e\u0441"}),Object(r.jsx)("th",{children:"\u0412\u0441\u0435\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u043e\u0432"}),Object(r.jsx)("th",{children:"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e"}),Object(r.jsx)("th",{children:"\u041d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e"}),Object(r.jsx)("th",{children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u043e\u043c \u0441\u043e\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0438"}),Object(r.jsx)("th",{children:"\u041f\u0435\u0440\u0432\u044b\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043e\u0442\u0432\u0435\u0442\u0438\u0432\u0448\u0438\u0435"}),Object(r.jsx)("th",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u043f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u0432\u0448\u0438\u0445 \u043a \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e"}),Object(r.jsx)("th",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0435 \u043f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u0432\u0448\u0438\u0445 \u043a \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"})]})}),o=function(e,u){var o=function(e){var r,s=e.question,a=t.map((function(e){return e.tests.filter((function(e){return e.question===s}))})).flat().map((function(e){return e.answers})),c=n.find((function(e){return e.question===s})).answers.map((function(e){return e.isTrue})).join(""),i=0,u=0,o=Object(H.a)(a);try{for(o.s();!(r=o.n()).done;)c===r.value.map((function(e){return e.isTrue})).join("")?i++:u++}catch(l){o.e(l)}finally{o.f()}return{counterCorrect:i,counterIncorrect:u}}(e);return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.question}),Object(r.jsx)("td",{children:a}),Object(r.jsx)("td",{children:o.counterCorrect}),Object(r.jsx)("td",{children:o.counterIncorrect}),Object(r.jsx)("td",{children:"".concat(0===a?0:Math.round(o.counterCorrect/a*1e4)/100,"%")}),Object(r.jsx)("td",{children:0!==s.length&&u<n.length&&u<s.length?s[u].user:""}),Object(r.jsx)("td",{children:c}),Object(r.jsx)("td",{children:i})]},u)},l=n.map((function(e,t){return o(e,t)}));return Object(r.jsxs)("section",{className:P.a.results,children:[Object(r.jsx)("h2",{className:P.a.title,children:"\u043e\u0431\u0449\u0438\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"}),Object(r.jsx)("div",{className:P.a.table__wrap,children:Object(r.jsxs)("table",{children:[u,Object(r.jsx)("tbody",{children:l})]})})]})},F=function(){var e=Object(h.c)((function(e){return e})).users,t=Object(h.b)();return Object(r.jsxs)("section",{className:P.a.results,children:[Object(r.jsx)("h2",{className:P.a.title,children:"\u043b\u0438\u0447\u043d\u044b\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"}),Object(r.jsx)("div",{className:P.a.table__wrap,children:Object(r.jsx)("ul",{className:P.a.list,children:e.map((function(e){return Object(r.jsxs)("li",{className:P.a.item,children:[Object(r.jsx)("div",{className:P.a.name,children:"".concat(e.user," (").concat(e.email,")")}),Object(r.jsxs)("div",{className:P.a.btn__wrap,children:[Object(r.jsxs)("button",{className:P.a.button,children:[Object(r.jsx)("span",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"}),Object(r.jsx)("img",{src:C,alt:"question"})]}),Object(r.jsxs)("button",{className:P.a.button,onClick:function(){var n;t(S("viewAnswers")),localStorage.setItem("menuTab","viewAnswers"),t((n=e._id,{type:v,payload:n})),localStorage.setItem("currentUserId",e._id)},children:[Object(r.jsx)("span",{children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043e\u0442\u0432\u0435\u0442\u043e\u0432"}),Object(r.jsx)("img",{src:C,alt:"question"})]})]})]},e._id)}))})})]})},J=function(e){var t=function(e){return 1===e.length?e.padStart(2,"0"):e},n=(e/1e3).toFixed(0),r=Math.floor(parseInt(n)/60).toString(),s="";return parseInt(r)>59&&(s=t(Math.floor(parseInt(r)/60).toString()),r=t((parseInt(r)-60*parseInt(s)).toString())),n=t(Math.floor(parseInt(n)%60).toString()),""!==s?"".concat(s," \u0447. ").concat(r," \u043c\u0438\u043d. ").concat(n," \u0441\u0435\u043a."):"".concat(r," \u043c\u0438\u043d. ").concat(n," \u0441\u0435\u043a.")},G=function(e,t){var n="#326799";return e?"green":t&&!e?"#d63f3f":n},V=function(){var e,t=Object(h.c)((function(e){return e})),n=t.users,s=t.questions,a=t.currentUserId,c=n.find((function(e){return e._id===a}));return Object(r.jsx)("section",{className:P.a.results,children:c&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{className:P.a.title,children:c.user}),Object(r.jsxs)("div",{className:P.a.table__wrap,children:[Object(r.jsxs)("div",{className:P.a.info,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430: "}),Object(r.jsx)("span",{children:c.email})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"\u041f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u043b \u043a \u0442\u0435\u0441\u0442\u0443: "}),Object(r.jsx)("span",{children:c.isTestingStarted?"\u0414\u0430":"\u041d\u0435\u0442"})]}),c.endTime?Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"\u0422\u0435\u0441\u0442 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d: "}),Object(r.jsx)("span",{children:(e=new Date(c.endTime),"".concat(["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"][e.getMonth()],"\n    ").concat(e.getDate(),",\n    ").concat(e.getFullYear(),",\n    ").concat(e.getHours(),":\n    ").concat(e.getMinutes()))})]}):null,c.differenceTime?Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"\u041d\u0430 \u0442\u0435\u0441\u0442 \u043f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e: "}),Object(r.jsx)("span",{children:J(c.differenceTime)})]}):null]}),0!==c.tests.length?Object(r.jsx)("ul",{className:P.a.questions,children:c.tests.map((function(e,t){var n=s[t];return Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{children:e.question}),Object(r.jsx)("ul",{children:e.answers.map((function(e,t){var s=null===n||void 0===n?void 0:n.answers[t].isTrue,a=e.isTrue;return Object(r.jsx)("li",{style:{color:G(s,a)},children:e.answer},e._id)}))})]},e._id)}))}):null]})]})})},X=function(e){switch(e){case"users":return Object(r.jsx)(U,{});case"questions":return Object(r.jsx)(M,{});case"userResults":return Object(r.jsx)(F,{});case"results":return Object(r.jsx)(R,{});case"viewAnswers":return Object(r.jsx)(V,{});default:return null}},Q=function(){var e=Object(h.c)((function(e){return e})),t=e.menuTab,n=e.isSent,a=Object(h.b)(),c=N().request;return Object(s.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c("/api/users/all","GET",null,{Authorization:"Bearer ".concat(localStorage.token)});case 3:t=e.sent,a({type:m,payload:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[a,c,n]),Object(s.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c("/api/questions/active","GET",null,{Authorization:"Bearer ".concat(localStorage.token)});case 3:t=e.sent,n=0===t.length?[]:t[0].structuredQuestions,a({type:x,payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[a,c,n]),Object(r.jsx)("main",{className:d.a.main,children:Object(r.jsx)("div",{className:d.a.main__wrap,children:X(t)})})},Z=n(16),W=n.n(Z),Y=n.p+"static/media/user.a1ba68cb.svg",K=[{name:"\u0421\u043f\u0438\u0441\u043e\u043a \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432",tab:"questions",imgSrc:n.p+"static/media/question.4d3499b2.svg"},{name:"\u0421\u043f\u0438\u0441\u043e\u043a \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432",tab:"users",imgSrc:n.p+"static/media/book.360c92c1.svg"},{name:"\u043e\u0431\u0449\u0438\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b",tab:"results",imgSrc:n.p+"static/media/list.ffbe5bc9.svg"},{name:"\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",tab:"userResults",imgSrc:Y}],$=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e})).menuTab;return Object(r.jsx)("section",{className:W.a.header,children:Object(r.jsxs)("div",{className:W.a.header__wrap,children:[Object(r.jsx)("h1",{className:W.a.header__title,children:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a"}),Object(r.jsx)("ul",{className:W.a.header__list,children:K.map((function(n,s){return Object(r.jsx)("li",{className:W.a.header__item,children:Object(r.jsxs)("button",{className:W.a.header__button,onClick:function(){var r;r=n.tab,t===r?(e(S("")),localStorage.setItem("menuTab","")):(e(S(r)),localStorage.setItem("menuTab",r))},children:[Object(r.jsx)("img",{src:n.imgSrc,alt:n.name}),Object(r.jsx)("span",{children:n.name})]})},s)}))})]})})},ee=n(23),te=n.n(ee),ne={email:"apkpro@apkpro.ru",password:"123"},re=function(){var e=Object(s.useState)(ne),t=Object(k.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!1),i=Object(k.a)(c,2),u=i[0],o=i[1],b=N().request,d=Object(h.b)(),p=function(){var e=Object(j.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o(!0),e.prev=2,e.next=5,b("/api/auth/login","POST",n);case 5:r=e.sent,localStorage.setItem("token",r.token),o(!1),d(w(!0)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),o(!1),d(w(!1));case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("section",{className:te.a.login,children:[u?Object(r.jsx)(I,{}):null,Object(r.jsxs)("div",{className:te.a.login__wrap,children:[Object(r.jsx)("h2",{children:"\u0412\u0445\u043e\u0434"}),Object(r.jsx)("form",{onSubmit:p,children:Object(r.jsxs)("div",{className:te.a.login__form_wrap,children:[Object(r.jsxs)("label",{children:["\u041b\u043e\u0433\u0438\u043d",Object(r.jsx)("input",{type:"email",placeholder:n.email,required:!0,value:n.email,onChange:function(e){return a(Object(_.a)(Object(_.a)({},n),{},{email:String(e.target.value).trim()}))}})]}),Object(r.jsxs)("label",{children:["\u041f\u0430\u0440\u043e\u043b\u044c",Object(r.jsx)("input",{type:"password",placeholder:n.password,required:!0,value:n.password,onChange:function(e){return a(Object(_.a)(Object(_.a)({},n),{},{password:String(e.target.value).trim()}))}})]}),Object(r.jsx)("button",{className:te.a.login__button,disabled:u,children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})]})},se=function(){var e=Object(h.b)(),t=N().request,n=Object(h.c)((function(e){return e})).auth;return Object(s.useEffect)((function(){(function(){var n=Object(j.a)(l.a.mark((function n(){var r,s=arguments;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=s.length>0&&void 0!==s[0]?s[0]:null,n.prev=1,n.next=4,t("/api/auth/checkauth","GET",null,{Authorization:"Bearer ".concat(r)});case 4:e(w(!0)),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(1),console.log(n.t0),e(w(!1));case 11:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(){return n.apply(this,arguments)}})()(localStorage.token)}),[e,t]),Object(r.jsx)(r.Fragment,{children:n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($,{}),Object(r.jsx)(Q,{})]}):Object(r.jsx)(re,{})})},ae=n(15),ce=n.n(ae);var ie=[{question:"",answers:[{answer:"",isTrue:!1}]}],ue=function(e){var t=Object(s.useState)(0),n=Object(k.a)(t,2),a=n[0],c=n[1],i=Object(s.useState)(ie),o=Object(k.a)(i,2),b=o[0],d=o[1],h=Object(s.useState)(!1),_=Object(k.a)(h,2),p=_[0],O=_[1],f=Object(s.useState)(null),m=Object(k.a)(f,2),x=m[0],v=m[1],g=function(){var e="undefined"!==typeof window;function t(){return{width:e?window.innerWidth:null,height:e?window.innerHeight:null}}var n=Object(s.useState)(t()),r=Object(k.a)(n,2),a=r[0],c=r[1];return Object(s.useEffect)((function(){if(e){var n=function(){c(t())};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}}),[e]),a}().height,w=N().request,S=Object(u.g)(),q=Object(u.h)().id;Object(s.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("/api/questions/testing","POST",{_id:q});case 3:if(t=e.sent,n=t.questions,!t.user.endTime){e.next=7;break}return e.abrupt("return",S.push("/testing"));case 7:d(n),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),S.push("/404");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(s.useEffect)((function(){localStorage.timeOpeningLink?v(JSON.parse(localStorage.timeOpeningLink)):localStorage.setItem("timeOpeningLink",JSON.stringify(Date.now()))}),[]);var T=0===a,E=!b[a].answers.find((function(e){return e.isTrue}))||a+1===b.length,C=!b[a].answers.find((function(e){return e.isTrue}))||a+1!==b.length,B=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,t=Date.now()-x,e.next=5,w("/api/users/add_test","POST",{_id:q,questions:b,differenceTime:t});case 5:O(!1),localStorage.clear(),S.push("/testing"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),O(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("section",{className:ce.a.questions,style:{minHeight:g},children:[p?Object(r.jsx)(I,{}):null,Object(r.jsxs)("div",{className:ce.a.questions__wrap,style:{minHeight:g/2},children:[Object(r.jsxs)("div",{className:ce.a.questions__title,children:[Object(r.jsx)("span",{children:"".concat(a+1,"/").concat(b.length)}),Object(r.jsx)("span",{children:b[a].question})]}),Object(r.jsx)("ul",{className:ce.a.questions__list,children:b[a].answers.map((function(e,t){return Object(r.jsxs)("li",{className:ce.a.questions__item,children:[Object(r.jsx)("input",{className:ce.a.questions__input,checked:e.isTrue,type:"checkbox",id:"answer-".concat(t),onChange:function(){return function(e){var t=Object(y.a)(b);t[a].answers[e].isTrue=!b[a].answers[e].isTrue,d(t)}(t)}}),Object(r.jsx)("label",{className:ce.a.questions__label,htmlFor:"answer-".concat(t),children:e.answer})]},t)}))}),Object(r.jsxs)("div",{className:ce.a.questions__buttons,children:[Object(r.jsx)("button",{disabled:T,className:ce.a.questions__btn,onClick:function(){0!==a&&c(a-1)},children:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0432\u043e\u043f\u0440\u043e\u0441"}),Object(r.jsx)("button",{disabled:E,className:ce.a.questions__btn,onClick:function(){a+1!==b.length&&c(a+1)},children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0432\u043e\u043f\u0440\u043e\u0441"}),Object(r.jsx)("button",{disabled:C,className:ce.a.questions__btn,onClick:B,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"})]})]})]})},oe=function(){return Object(r.jsx)("section",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:0,bottom:0,width:"100%"},children:Object(r.jsx)("h2",{style:{color:"#fff",fontSize:"30px"},children:"\u0412\u0430\u0448\u0438 \u043e\u0442\u0432\u0435\u0442\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b!"})})},le=function(){return Object(r.jsx)("section",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:0,bottom:0,width:"100%"},children:Object(r.jsx)("h2",{style:{color:"#fff",fontSize:"30px"},children:"\u0422\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442!"})})},je=function(){return Object(r.jsx)(i.a,{children:Object(r.jsxs)(u.d,{children:[Object(r.jsx)(u.b,{exact:!0,path:"/admin",children:Object(r.jsx)(se,{})}),Object(r.jsx)(u.b,{exact:!0,path:"/testing",children:Object(r.jsx)(oe,{})}),Object(r.jsx)(u.b,{exact:!0,path:"/testing/:id",children:Object(r.jsx)(ue,{})}),Object(r.jsx)(u.b,{exact:!0,path:"/404",children:Object(r.jsx)(le,{})}),Object(r.jsx)(u.a,{to:"/404"})]})})},be=n(19),de=n(37),he=Object(be.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(_.a)(Object(_.a)({},e),{},{auth:t.payload});case f:return Object(_.a)(Object(_.a)({},e),{},{menuTab:t.payload});case m:return Object(_.a)(Object(_.a)({},e),{},{users:t.payload});case x:return Object(_.a)(Object(_.a)({},e),{},{questions:t.payload});case v:return Object(_.a)(Object(_.a)({},e),{},{currentUserId:t.payload});case g:return Object(_.a)(Object(_.a)({},e),{},{isSent:t.payload});default:return e}}),Object(be.c)(Object(be.a)(de.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),_e=Object(r.jsx)(h.a,{store:he,children:Object(r.jsx)(je,{})});c.a.render(_e,document.getElementById("root"))},9:function(e,t,n){e.exports={table__wrap:"results_table__wrap__1MSVx",title:"results_title__2sf_W",list:"results_list__1xBF-",item:"results_item__2_bf6",button:"results_button__fOpYV",info:"results_info__2428H",questions:"results_questions__3fy4f"}}},[[50,1,2]]]);
//# sourceMappingURL=main.2122ba43.chunk.js.map